import React, { useState, useEffect } from "react";
import styles from "./index.module.less";


const Loading =props=>{
	const [loading, setLoading]= useState(false);
	useEffect(()=>{
		setLoading(props.loading);
		return ()=>{
			setLoading(false)
		}
	}, [props])
	return (
		<>
			{loading && (
				<div className={styles.main}>
					<div>
						<div className={styles["loading"]} />
						<div className={styles["loading-text"]}>
							加载中...
						</div>
					</div>
				</div>
			)}
			{props.children}
		</>
	);
}

export default Loading;
